<div class="container">
  <h2>Register</h2>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="email">Email:</label>
      <input
        type="email"
        id="email"
        formControlName="email"
        class="form-control"
      />
      <div
        *ngIf="
          registerForm.get('email')?.invalid &&
          registerForm.get('email')?.touched
        "
        class="text-danger"
      >
        Invalid email
      </div>
    </div>
    <div class="form-group">
      <label for="phone_number">Phone Number:</label>
      <input
        type="text"
        id="phone_number"
        formControlName="phone_number"
        class="form-control"
        maxlength="10"
      />
      <div
        *ngIf="
          registerForm.get('phone_number')?.invalid &&
          registerForm.get('phone_number')?.touched
        "
        class="text-danger"
      >
        Phone number is required
      </div>
    </div>
    <div class="form-group">
      <label for="first_name">First Name:</label>
      <input
        type="text"
        id="first_name"
        formControlName="first_name"
        class="form-control"
      />
      <div
        *ngIf="
          registerForm.get('first_name')?.invalid &&
          registerForm.get('first_name')?.touched
        "
        class="text-danger"
      >
        First name is required
      </div>
    </div>
    <div class="form-group">
      <label for="last_name">Last Name:</label>
      <input
        type="text"
        id="last_name"
        formControlName="last_name"
        class="form-control"
      />
      <div
        *ngIf="
          registerForm.get('last_name')?.invalid &&
          registerForm.get('last_name')?.touched
        "
        class="text-danger"
      >
        Last name is required
      </div>
    </div>
    <div class="form-group">
      <label for="profile_pic">Profile Picture:</label>
      <input
        type="file"
        id="profile_pic"
        (change)="onFileChange($event)"
        class="form-control"
      />
    </div>
    <div class="form-group">
      <label for="street_address">Street Address:</label>
      <input
        type="text"
        id="street_address"
        formControlName="street_address"
        class="form-control"
      />
      <div
        *ngIf="
          registerForm.get('street_address')?.invalid &&
          registerForm.get('street_address')?.touched
        "
        class="text-danger"
      >
        Street address is required
      </div>
    </div>
    <div class="form-group">
      <label for="city">City:</label>
      <input
        type="text"
        id="city"
        formControlName="city"
        class="form-control"
      />
      <div
        *ngIf="
          registerForm.get('city')?.invalid && registerForm.get('city')?.touched
        "
        class="text-danger"
      >
        City is required
      </div>
    </div>
    <div class="form-group">
      <label for="state">State:</label>
      <input
        type="text"
        id="state"
        formControlName="state"
        class="form-control"
      />
      <div
        *ngIf="
          registerForm.get('state')?.invalid &&
          registerForm.get('state')?.touched
        "
        class="text-danger"
      >
        State is required
      </div>
    </div>
    <div class="form-group">
      <label for="postal_code">Postal Code:</label>
      <input
        type="text"
        id="postal_code"
        formControlName="postal_code"
        class="form-control"
      />
      <div
        *ngIf="
          registerForm.get('postal_code')?.invalid &&
          registerForm.get('postal_code')?.touched
        "
        class="text-danger"
      >
        Postal code is required
      </div>
    </div>
    <div class="form-group">
      <label for="country">Country:</label>
      <input
        type="text"
        id="country"
        formControlName="country"
        class="form-control"
      />
      <div
        *ngIf="
          registerForm.get('country')?.invalid &&
          registerForm.get('country')?.touched
        "
        class="text-danger"
      >
        Country is required
      </div>
    </div>
    <div class="form-group">
      <label for="password">Password:</label>
      <div class="input-group">
        <input
          type="password"
          id="password"
          formControlName="password"
          class="form-control"
          placeholder="Enter your password"
        />
        <div class="input-group-append">
          <span class="input-group-text" (click)="togglePasswordVisibility()">
            <i
              [ngClass]="
                showPassword ? 'bi bi-eye-fill' : 'bi bi-eye-slash-fill'
              "
            ></i>
          </span>
        </div>
      </div>
      <div
        *ngIf="
          registerForm.get('password')?.invalid &&
          registerForm.get('password')?.touched
        "
        class="text-danger"
      >
        Password is required and must be at least 8 characters long
      </div>
    </div>

    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="registerForm.invalid"
    >
      Register
    </button>
  </form>

  <p>{{ message }}</p>
</div>
